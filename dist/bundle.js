var VM=function(e){function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=7)}([function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),i=(a(r),t(3)),o=(a(i),{getAddress:function(e){return e.vicinity||e.formatted_address},getPhone:function(e){return e.international_phone_number||e.formatted_phone_number},truncateStr:function(e,n){return e.length>n?e.substr(0,n-1)+"â€¦":e},getPlacesItem:function(e){var n=e.vicinity,t=e.formatted_address,a=e.formatted_phone_number,r=e.international_phone_number,i=[],l=function(e,n){return i.push({details:e,icon:n})};return(n||t)&&l(o.getAddress(e),"place"),(a||r)&&l(o.getPhone(e),"phone"),i},placeListDetails:function(e){var n=o.getPlacesItem(e),t="";return n.map(function(e){t=t+'\n      <li class="mdl-list__item detailsListItem">\n        <span class="mdl-list__item-primary-content mdl-card__supporting-text">\n          <i class="material-icons mdl-list__item-icon">'+e.icon+"</i>\n          "+e.details+"\n        </span>\n      </li>"}),t},createMenuLinkLists:function(e,n,t){var a="",r=[];return e&&r.push({url:e,label:"View in Google Map"}),t&&r.push({url:t,label:"View Website"}),n&&r.push({url:n,label:"View Menu / Food Specialty"}),r.map(function(e){var n=e.url,t=e.label;a="\n        "+a+'\n        <li><a class="mdl-menu__item" href="'+n+'" target="_blank">'+t+"</a></li>\n      "}),a},buildDetailsPanel:function(e){var n=e.url,t=e.name,a=e.menuUrl,r=e.website,i=e.geometry.location,l=o.createMenuLinkLists(n,a,r),c=o.placeListDetails(e),s=document.getElementById("detailPanel"),u='\n      <div class="mdl-card__title">\n        <h2 class="mdl-card__title-text">'+t+'</h2>\n      </div>\n      <div class="mdl-card__supporting-text detailsList">\n       <ul class="mdl-list">\n          '+c+'\n        </ul>\n      </div>\n      <div class="mdl-card__actions mdl-card--border">\n        <button id="detailsMenu" class="mdl-button mdl-js-button mdl-button--icon">\n          <i class="material-icons">more_vert</i>\n        </button>\n        <ul class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="detailsMenu">\n          '+l+'\n        </ul>\n        <div class="mdl-layout-spacer"></div>\n        <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"\n            onClick=Directions.get('+JSON.stringify(i)+")>Get Directions</a>\n      </div>";s.innerHTML="",s.innerHTML=u,componentHandler.upgradeAllRegistered()},buildInfoWindow:function(e){var n=e.place_id,t=e.name,a=e.geometry.location;return' \n     <div class="infoWindow">\n        <div class="mdl-card__title">\n          <h2 class="mdl-card__title-text">'+t+'</h2>\n        </div>\n        <div class="mdl-card__supporting-text">\n           '+o.getAddress(e)+'\n        </div>\n        <div class="mdl-card__actions mdl-card--border">\n          <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"\n            onClick=Place.getPlaceDetails("'+n+'")>\n            Show Details\n          </a>\n          <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"\n            onClick=Directions.get('+JSON.stringify(a)+")>\n            Get Directions\n          </a>\n        </div>\n      </div>"},createListItem:function(e){return'\n      <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="'+e+'">\n        <input\n          type="checkbox" \n          id="'+e+'" \n          class="mdl-checkbox__input" \n          checked\n          onchange=Marker.filterMarkers(this.id)>\n          <img src="assets/icons/'+e+'.png" id="icons">\n        <span class="mdl-checkbox__label">'+e+"</span>\n      </label>"},renderCategoryList:function(e){var n=document.getElementById("categoryList"),t=document.createElement("ul");t.className="mdl-list",t.innerHTML=e,n.innerHTML="",n.appendChild(t)},showDirectionsPanel:function(){document.getElementById("filterPanel").style.display="none",document.getElementById("directionsPanel").style.display="block"},hideDirectionsPanel:function(){document.getElementById("filterPanel").style.display="block",document.getElementById("directionsPanel").style.display="none"},showDetailsPanel:function(){document.getElementById("detailPanel").style.display="block"},displayResultsCount:function(e){document.querySelector(".mdl-js-snackbar").MaterialSnackbar.showSnackbar({message:"Found "+e+" restaurant(s) within the circle/rectangle"})}});n.default=o},function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(0),i=a(r),o=t(2),l=a(o),c={markers:[],_setCategoryIcon:function(e){return{url:"assets/icons/"+e+".png",size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)}},add:function(e,n,t){var a=c._setCategoryIcon(t),r=n.geometry.location,o=new google.maps.Marker({map:e,position:r,category:t,icon:a});c.markers.push(o),o.addListener("click",function(){l.default.infoWindow.setContent(i.default.buildInfoWindow(n)),l.default.infoWindow.open(e,o)})},reset:function(){c.markers.length&&(c.markers.forEach(function(e){return e.setMap(null)}),c.markers=[])},filterMarkers:function(e){c.markers.map(function(n){n.category===e&&n.setVisible(document.getElementById(e).checked)})},getMarkers:function(){return c.markers}};n.default=c},function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(5),i=a(r),o=t(6),l=a(o),c=t(3),s=a(c),u=t(4),d=a(u),f={infoWindow:null,currentLocation:null,init:function(){var e=new google.maps.LatLng(d.default.cebuLatLng.lat,d.default.cebuLatLng.lng),n=new google.maps.Map(document.getElementById("map"),{center:e,zoom:15});i.default.init(n),l.default.init(n,e),s.default.init(n,e),f.setCurrentLocation(),f.infoWindow=new google.maps.InfoWindow},setCurrentLocation:function(){var e=f.currentLocation;if(e)return e;var n=function(e){f.currentLocation={lat:e.coords.latitude,lng:e.coords.longitude}},t=function(e){return console.log("geoError",e)};navigator.geolocation.getCurrentPosition(n,t)},getCurrentLocation:function(){return f.currentLocation}};n.default=f},function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(2),i=a(r),o=t(0),l=a(o),c={map:null,directionsService:null,directionsDisplay:null,defaultOrigin:null,init:function(e,n){c.map=e,c.defaultOrigin=n,c.directionsService=new google.maps.DirectionsService,c.directionsDisplay=new google.maps.DirectionsRenderer,c.directionsDisplay.setMap(e),c.directionsDisplay.setOptions({preserveViewport:!0}),c.directionsDisplay.setPanel(document.getElementById("directionsPanel"))},get:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default.currentLocation,t={origin:n||c.defaultOrigin,destination:e,travelMode:"DRIVING",region:"PH"};c.directionsService.route(t,function(e,n){"OK"===n&&(l.default.showDirectionsPanel(),c.directionsDisplay.setDirections(e))})}};n.default=c},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a={categories:["Burger","Bar","Cafe","Pizza","Lechon","Barbecue","Cafeteria","Coffeehouse","Buffet","French"],cebuLatLng:{lat:10.318548,lng:123.90573640000002},zomato:{API_KEY:"239e8bf1e082e02ce395ee5dd8c2bb6b",API_SEARCH_URL:"https://developers.zomato.com/api/v2.1/search"}};n.default=a},function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),i=a(r),o=t(0),l=a(o),c={strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,draggable:!0,geodesic:!0,editable:!0},s={map:null,placeService:null,drawingManager:null,overlay:null,shapes:[],init:function(e){s.map=e,s.placeService=new google.maps.places.PlacesService(e);var n=new google.maps.Circle(c),t=new google.maps.Rectangle(c),a=new google.maps.drawing.DrawingManager({drawingMode:null,drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:["circle","rectangle"]},circleOptions:n,rectangleOptions:t});s.drawingManager=a,s.drawingManager.setMap(e),google.maps.event.addListener(a,"overlaycomplete",function(e){s.clear(),s.overlay=e.overlay,s.shapes.push(s.overlay),s.onOverlayComplete(s.overlay)})},onOverlayComplete:function(e){var n=e.getBounds(),t=i.default.getMarkers(),a=t.filter(function(e){return n.contains(e.getPosition())});l.default.displayResultsCount(a.length)},clear:function(){return s.shapes.map(function(e){return e.setMap(null)})}};n.default=s},function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),i=a(r),o=t(9),l=a(o),c=t(0),s=a(c),u=t(4),d=a(u),f={map:null,placeService:null,defaultLocation:null,categories:d.default.categories,init:function(e,n){f.map=e,f.defaultLocation=n,f.placeService=new google.maps.places.PlacesService(e),f.renderRestaurants()},renderRestaurants:function(){var e="";f.categories.map(function(n){e=""+e+s.default.createListItem(n),f.getRestaurantByCategory(n)}),s.default.renderCategoryList(e)},_buildAdvanceSearchQuery:function(e){return"restaurants|food|"+e.toLowerCase()+" in Cebu, PH"},getRestaurantByCategory:function(e,n){var t=n||{location:f.defaultLocation,radius:2e4,type:"restaurant",query:f._buildAdvanceSearchQuery(e)},a=function(n){return n.map(function(n){return i.default.add(f.map,n,e)})};f.textSearch(t,a)},_handleCallBack:function(e,n,t,a){n===google.maps.places.PlacesServiceStatus.OK&&(t.hasNextPage&&t.nextPage(),a(e))},buildQueryParams:function(e,n,t){var a=JSON.parse(JSON.stringify(e));return"q="+n+" "+t+"&lat="+a.lat+"&lon="+a.lng},getMenuUrl:function(e,n){var t=f.buildQueryParams(e,n),a=d.default.zomato.API_SEARCH_URL+"?"+t;return l.default.searchRestaurants(encodeURI(a)).then(function(e){return e.menu_url.split("?")[0]})},getPlaceDetails:function(e){var n=function(e){var n=e.name,t=e.vicinity,a=e.geometry.location;f.getMenuUrl(a,n,t).then(function(n){e.menuUrl=n,s.default.buildDetailsPanel(e),s.default.showDetailsPanel()})};f.getDetails(e,n)},textSearch:function(e,n){f.placeService.textSearch(e,function(e,t,a){return f._handleCallBack(e,t,a,n)})},nearbySearch:function(e,n){f.placeService.nearbySearch(e,function(e,t,a){return f._handleCallBack(e,t,a,n)})},radarSearch:function(e,n){f.placeService.radarSearch(e,function(e,t,a){return f._handleCallBack(e,t,a,n)})},getDetails:function(e,n){f.placeService.getDetails({placeId:e},function(e){return n(e)})}};n.default=f},function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=t(2),i=a(r),o=t(1),l=a(o),c=t(5),s=a(c),u=t(6),d=a(u),f=t(0),m=a(f),p=t(3),g=a(p);window.onload=function(){i.default.init(),window.Html=m.default,window.Place=d.default,window.Marker=l.default,window.Drawing=s.default,window.Directions=g.default}},,function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(4),r=function(e){return e&&e.__esModule?e:{default:e}}(a),i={request:function(e,n){return new Request(e,{method:n||"GET",mode:"cors",headers:new Headers({"Content-Type":"application/json","user-key":r.default.zomato.API_KEY,"User-agent":"curl/7.43.0"})})},send:function(e){return fetch(e).then(function(e){return e.json()})},searchRestaurants:function(e,n){return i.send(i.request(e,n)).then(function(e){return e.restaurants[0].restaurant})}};n.default=i}]);